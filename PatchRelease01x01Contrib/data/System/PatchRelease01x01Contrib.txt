%META:TOPICINFO{author="ProjectContributor" comment="" date="1446264082" format="1.1"  version="1"}%
<!--
One line description, required for extensions repository catalog.
   * Set SHORTDESCRIPTION = %$SHORTDESCRIPTION%
-->
---+!! PatchRelease01x01Contrib

%SHORTDESCRIPTION%

---++ Patched by this package:

This extension installs fixes for the following critical issues:

---+++ ==Item10963==: Perl 5.14 deprecated use of qw() without enclosing parenthesis (qw())
   * Type of fix:  Perl Compatibility
   * Affects version Foswiki-1.1.0 thru Foswiki-1-1-3
   * Patches:<verbatim>
        lib/Foswiki/Configure/Checkers/BasicSanity.pm
        lib/Foswiki/Configure/Dependency.pm
        lib/Foswiki/Configure/Load.pm
        lib/Foswiki/Configure/Util.pm
        lib/Foswiki/Func.pm
        lib/Foswiki/Macros/INCLUDE.pm
        lib/Foswiki/Plugins/TinyMCEPlugin.pm
        lib/Foswiki/Plugins/WysiwygPlugin/HTML2TML/Node.pm
        lib/Foswiki/Plugins/WysiwygPlugin/Handlers.pm
        lib/Foswiki/Request/Cache.pm
        lib/Foswiki/Store/VC/Handler.pm
        lib/Foswiki/UI/Save.pm
        lib/Foswiki/WebFilter.pm
</verbatim>
---+++ ==Item11955==: RCS x.x.x version strings cause configure errors.
   * Type of fix:  System Compatibility
   * Applies to Foswiki-1.1.0 thru Foswiki-1.1.5
   * Patches: =lib/Foswiki/Configure/Checker.pm=
---+++ ==Item12225==: Extension using new Version strings break configure.
   * Type of fix: Foswiki Backwards Compatibility
   * Applies to Foswiki-1.1.0 thru Foswiki 1.1.5.
   * Patches:<verbatim>
        lib/Foswiki/Configure/UIs/EXTENSIONS.pm
        lib/Foswiki/Configure/Dependency.pm
</verbatim>
---+++  ==Item12285==: Security fixes related to the Maketext vulnerability.
   * Type of fix: Security
   * Applies to Foswiki-1.1.0 thru Foswiki 1.1.6.
   * Patches: =lib/Foswiki/Macros/MAKETEXT.pm=
---+++ ==Item12391==: More Maketext validations
   * Type of fix: Security
   * Applies to Foswiki 1.1.0 thru 1.1.7.
   * Patches: =lib/Foswiki/Macros/MAKETEXT.pm=
---+++ ==Item12414==: Newer versions of =File::Temp= cause die in =Foswiki::Sandbox::sysCommand()= 
   * Type of fix:  Perl Compatibility
   * Applies to Foswiki-1.1.6, Foswiki-1.1.7 and Foswiki-1.1.8
   * Patches: =lib/Foswiki/Sandbox.pm=
---+++ ==Item12616==: Warnings and Errors due to newer versions of perl.
   * Type of fix:  Perl Compatibility
   * Applies to Foswiki-1.1.7 and Foswiki-1.1.8
   * Patches: <verbatim>
        lib/Foswiki/Attach.pm
        lib/Foswiki/Configure/Package.pm
        lib/Foswiki/Search.pm
        lib/Foswiki/UI/Register.pm
</verbatim>
---+++ ==Item12849==: Add ACL * wildcard for backwards compatibilty with Foswiki 2.0.
   * Type of fix: Foswiki Backwards Compatibility
   * Applies to all Foswiki 1.1 versions.
   * Patches: =lib/Foswiki/Users.pm=
---+++ ==Item13775==: Warnings due to CGI::param called in list context, and deprecation of =-any= pragma.
   * Type of fix:  Perl Compatibility
   * Applies to all Foswiki 1.1 versions
   * Patches: <verbatim>
        bin/configure
        lib/Foswiki/Configure/Type.pm
        lib/Foswiki/Engine/CGI.pm
        lib/Foswiki/Plugins/CommentPlugin/Comment.pm
        lib/Foswiki/Plugins/WysiwygPlugin/Handlers.pm
        lib/Foswiki/Contrib/MailerContrib.pm
        lib/Foswiki/Plugins/WysiwygPlugin/TML2HTML.pm </verbatim>
---+++ ==Item13777==: Backport changes in URLPARAM and SEARCH for extension compatibility.
   * Type of fix: Foswiki Backwards Compatibility

%TOC%

---++ Usage

This extension allows you to "hotfix" urgent issues on your Foswiki system.  It has been tested on Foswiki 1.1.0 and beyond.  It does not work on Foswiki 1.0.x.

When this extension is installed, it adds some required libraries to your Foswiki system, and includes a plugin to display an inventory of patches on the system.  This extension does not ship with any patches.
this extension will be identified as a dependency of the actual patch, so that necessary infrastructure is installed.

Patches are only applied if the target file is an _exact_ match to the original file.  There is no attempt to do "fuzzy" patching.

There is no "dependency" between patches.  Patches are installed in order of their patch file name. 

Patches will be mapped from the default Foswiki filename to the directory location used on the target system.

Before any file is patched, a backup is copied to =working/configure/backup/&lt;Itemxxxx-nnn-YYYMMDD-HHMMSS&gt;=.  If archive tools are found on the system, a zip or tar archive is created of the backup.

%INCLUDE{"PatchFoswikiContribPlugin" section="patchreport"}%

---++ Installation

Patches are applied during the =POSTINSTALL= exit, and removed in the =PREUNINSTALL= exit.  You must install this extension
using the "Extension Installer" to get automatic patching. If this extension
is installed by direct unzip / tar -x, or using pseudo_install.pl, patches will not be applied and will
have to be manually patched using the =patch= tool.

---+++ Manual installation

=unzip= or =tar -x= the extension archive.  It can be extracted into the root
of the foswiki installation if the directory paths use the default location.
The structure of a typical patch:
<verbatim>
|-- data
|   |-- System
|       |-- PatchRelease01x01Contrib.txt
|-- lib
|   |-- Foswiki
|       |-- Contrib
|           |-- PatchItem13775Contrib.pm
|           |-- PatchRelease01x01Contrib
|               |-- DEPENDENCIES
|-- working
    |-- configure
        |-- patch
            |-- Item11267-110.patch    (A unique version of each patch for each applicable Foswiki version.)
            |-- Item11267-111.patch
            |-- Item11267-....patch
            |-- Item12616-118.patch
            |-- Item13775-118.patch
            |-- Item13775-119.patch
            |-- Item13777-118.patch
            |-- Item13777-119.patch
</verbatim>

The files in the =working/configure/patch= directory are the actual patches.
If a collection of related files is patched in a single file, they can be manually applied by
changing to the root of the install and running:
<verbatim>
patch -p0 < working/configure/patch/Item54321-001.patch
</verbatim>

By a "collection of related files",  =Item12345-001.patch= might contain
patches for =lib/Foswiki.pm= and =lib/Foswiki/Render.pm=.   These could be
appplied directly.   But if =Item12345-002.patch= contained different versions
of patches for the same file,   ex.  =lib/Foswiki.pm= for 1.1.9, and
=lib/Foswiki.pm= for 1.1.8, then the file would have to be split apart in
order to apply it manually.

---++ Info

|  Author: | GeorgeClark |
|  Copyright &copy;: | 2012-2015 Foswiki Contributors |
|  License: | GPL ([[http://www.gnu.org/copyleft/gpl.html][GNU General Public License]]) |
|  Dependencies: | %$DEPENDENCIES% |
|  Version: | %$VERSION% |
|  Change History: | <!-- versions below in reverse order -->&nbsp; |
|  1.0 (02 Oct 2015) | Initial version |
|  Home: | http://foswiki.org/Extensions/%TOPIC% |
|  Support: | http://foswiki.org/Support/%TOPIC% |


